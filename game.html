<!DOCTYPE html>
<!--suppress HtmlFormInputWithoutLabel -->
<html lang="en">
<head>
    <title>Asteroids</title>
    <meta name="gi" content="qrs.asteroids">
    <meta name="gv" content="0.1">

    <link rel="stylesheet" type="text/css" href="game.css">
    <script src="loader.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<div id="game-layer">
    <canvas id="game-canvas" width="500" height="500" autofocus></canvas>
    <div class="controls-c">
        <div class="position">
            <div r-if="v.autopilot">
                <ul>
                    <li>Autopilot active</li>
                    <li>Target: <span r-var="v.autopilot.system"></span> (<span r-var="v.autopilot.x"></span> X <span r-var="v.autopilot.y"></span>)</li>
                    <li>ETA: <span r-var="v.autopilot.time"></span> s</li>
                </ul>
            </div>

            <div>
                <!-- Position -->
                <span r-var="GUt.ud('8J+TjA==')"></span>
                <span r-var="v.system"></span> (<span r-var="v.x"></span> X <span r-var="v.y"></span>)
            </div>
            <div>
                <!-- Speed -->
                <span r-var="GUt.ud('4o+p')"></span>
                <span r-var="v.s"></span>
            </div>
            <div>
                <ul>
                    <li>Cargo: <span r-var="v.inventory.sum"></span>/<span r-var="v.inventory.capacity"></span> t</li>
                    <li>Health: <span r-var="v.health"></span></li>
                </ul>
            </div>
        </div>
        <div class="buttons">
            <button id="btnMap" class="btn btn-secondary">
                Open map
                <span r-var="GUt.ud('8J+Vue+4jw==')"></span>
            </button>
            <div class="drone">
                <button r-if="v.docked" class="btn btn-primary" r-click="f.launch()">
                    <span r-var="GUt.ud('8J+Vue+4jw==')"></span>
                    Launch drone
                </button>
                <button r-if="!v.docked && v.inRange" class="btn btn-primary" r-click="f.dock()">
                    <span r-var="GUt.ud('8J+Vue+4jw==')"></span>
                    Dock drone
                </button>
                <button r-if="!v.docked && !v.inRange" class="btn btn-primary" r-click="f.recall()">
                    <span r-var="GUt.ud('8J+Vue+4jw==')"></span>
                    Recall drone
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal target selection -->
<div id="modal-targetSelection" class="modal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Where to go?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul>
                    <li r-for="field of v.fields">
                        <span class="map-btn" r-click="f.gotoObject(l.field)">
                            <span r-var="l.field.icon"></span>
                            <span r-var="l.field.name"></span> (<span r-var="l.field.distance"></span>)
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>


</body>
</html>
