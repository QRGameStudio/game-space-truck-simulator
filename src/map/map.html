<!-- Map -->
<div id="modal-targetSelection" class="modal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-xl modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Where to go?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-system-map-body">
                    <div style="display: flex; flex-grow: 1; flex-direction: column">
                        <h3>System map</h3>
                        <div class="system-map-container">
                            <div class="system-map" r-attr="{&quot;style&quot;: &quot;'width: ' + v.map.max.x + 'px; height: ' + v.map.max.y + 'px;'&quot;}">
                                <div class="system" r-for="field of v.fields.all" r-attr="{&quot;style&quot;: &quot;'left: ' + l.field.map.x + 'px; top: ' + l.field.map.y + 'px;'&quot;}" r-click="f.gotoObject(l.field)">
                                    <span class="system-icon" r-var="l.field.icon"></span>
                                    <span  r-if="!l.field.isPlayer" class="system-name" r-var="l.field.name"></span>
                                    <span r-if="!l.field.isPlayer" class="system-distance" r-var="l.field.distanceFloor"></span>
                                    <span r-if="!l.field.isPlayer" class="system-time" r-var="l.field.time"></span>
                                    <span r-if="l.field.isPlayer"><span class="system-player system-name">You</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="system-selection">
                        <h3>Navigation points</h3>
                        <ul class="system-navigation-points-list">
                            <li r-for="field of v.fields.navigable">
                                <span class="map-btn" r-click="f.gotoObject(l.field)">
                                    <span r-var="l.field.icon"></span>
                                    <span r-var="l.field.name"></span> (<span r-var="l.field.distance"></span>, <span r-var="l.field.time"></span>)
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
